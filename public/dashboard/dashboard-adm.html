<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ServGuard | Dashboard ADM</title>
    <link rel="stylesheet" href="../css/main.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body onload="carregarPagina()">
    <section id="page-dashboard-adm">
      <header>
        <div class="child-navbar-card-dash-adm">
          <div class="navbar-logo-dash-adm">
            <img src="../assets/img/logo.png" alt="#logo" />
          </div>
          <div class="navbar-navlink-dash-adm">
            <ul class="list-navlink-dash-adm">
              <li>
                <a href="dashboard-adm.html" class="link-dash-adm active">
                  <img
                    src="../assets/svg/layout-icon-white.svg"
                    alt="#icone-layout"
                  />
                </a>
                <p class="little-text mt-1">Início</p>
              </li>
              <li>
                <a
                  href="./gerenciamento-funcionario.html"
                  class="link-dash-adm"
                >
                  <img
                    src="../assets/svg/func-icon.svg"
                    alt="#icone-funcionario"
                  />
                </a>
                <p class="little-text mt-1">Funcionário</p>
              </li>
              <li>
                <a href="./details-machine.html" class="link-dash-adm">
                  <img src="../assets/svg/server-icon.svg" alt="#icone-" />
                </a>
                <p class="little-text mt-1">Máquina</p>
              </li>
              <li>
                <a href="detalhes-funcionario.html" class="link-dash-adm">
                  <img src="../assets/svg/perfil-icon.svg" alt="#icone-" />
                </a>
                <p class="little-text mt-1">Perfil</p>
              </li>
            </ul>
          </div>
          <a href="#" class="navbar-exit-dash-adm">
            <img src="../assets/svg/exit-icon.svg" alt="" />
          </a>
        </div>
      </header>
      <main>
        <div class="child-dash-adm-info">
          <div class="dash-adm-info-user">
            <h3 class="bold">Olá de novo Fernanda!</h3>
            <div class="info-user">
                <p class="">Segunda-Feira 01/10/2024</p>
                <p class="">Empresa: São Paulo Tech School</p>
            </div>
          </div>
          <div class="dash-adm-parameter-stability">
            <p class="bold mb-2">Escala de instabilidade:</p>
            <h1 class="font-big text-gray bold" id="escala-instabilidade"></h1>
          </div>
          <div class="dash-adm-parameter-server">
            <h4 class="bold center">Serviços utilizados:</h4>
            <div class="parameter-server-cards">
              <div class="server-card">
                <p class="text-white thin">Receita Federal</p>
                <p class="text-white bold">3h de Inatividade</p>
              </div>
            </div>
          </div>
          <div class="dash-adm-parameter-recommendations">
            <div class="parameter-recommendations-title mt-1">
              <img src="../assets/svg/alert-icon-white.svg" alt="" />
              <p class="pl-1 text-white bold">Recomendações</p>
            </div>
            <div class="parameter-recommendations-text">
              <p class="text-white">
                Pico de uso de CPU atingido no final do mês! Importante fazer análise preditiva...
              </p>
            </div>
          </div>
        </div>
        <div class="child-dash-adm-parameters pt-4">
          <div class="dash-adm-general-vision">
            <h2 class="bold center mb-1">
              Visão <span class="text-purple">Geral</span>
            </h2>
            <div class="general-vision-info">
              <h4 class="general-vision-info-text center bold">
                Total de máquinas: <span>62</span>
              </h4>
              <div class="general-vision-line"></div>
              <h4 class="general-vision-info-text center bold">
                Em funcionamento: <span class="text-purple">40</span>
              </h4>
            </div>
            <div class="general-vision-card-irregular">
              <div class="card-irregular">
                <h4 class="center">Irregularidades:</h4>
                <h4 class="bold center">CPU: <span>1</span></h4>
                <h4 class="bold center">RAM: <span>0</span></h4>
                <h4 class="bold center">Disco: <span>2</span></h4>
              </div>
              <div class="card-rede-conect">
                <div class="card-rede-conect-content">
                  <p class="bold center">Estado da rede:</p>
                  <h3 class="bold center">Estável</h3>
                  <p class="little-text center">Maquinas Conectadas</p>
                  <p class="center bold">39</p>
                </div>
              </div>
            </div>
            <button class="btnServGuard" onclick="DashboardAnalista()">
              Acesse a dashboard de monitoramento!
            </button>
          </div>
          <div class="dash-adm-graphic">
            <div class="graphic-space">
              <h3 class="bold center">
                HISTOGRAMA DE USO: <span class="text-purple">CPU(%)</span>
              </h3>
              <canvas id="myHistogram"></canvas>
            </div>
          </div>
        </div>
      </main>
    </section>
    <script>
      function DashboardAnalista() {
        window.location.href = "dashboard-analista.html";
      }
      const data = {
        labels: [
          "0-10",
          "10-20",
          "20-30",
          "30-40",
          "40-50",
          "50-60",
          "60-70",
          "70-80",
          "80-90",
          "90-100",
        ],
        datasets: [
          {
            label: "Percentual de Uso (%)",
            data: [
              10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 90, 80, 80, 80, 80, 80,
            ],
            backgroundColor: "#8a4dfb",
            borderColor: "#8a4dfb",
            borderWidth: 1,
            barThickness: 11, // Ajuste da largura das barras em pixels
            borderRadius: 20, // Ajuste do border-radius
            borderSkipped: false,
          },
        ],
      };

      const config = {
        type: "bar",
        data: data,
        options: {
          plugins: {
            legend: {
              display: false,
            },
          },
          scales: {
            x: {
              beginAtZero: true,
              grid: {
                display: false,
              },
            },
            y: {
              beginAtZero: true,
              grid: {
                display: false,
              },
            },
          },
        },
      };

      const myHistogram = new Chart(
        document.getElementById("myHistogram"),
        config
      );

      function carregarPagina() {
        let escalaInstabilidade = 0;

        const elementoInstabilidade = document.getElementById(
          "escala-instabilidade"
        );

        elementoInstabilidade.innerHTML = "";
        elementoInstabilidade.innerHTML = escalaInstabilidade;

        switch (escalaInstabilidade) {
          case 0:
            // verde
            break;
          case 1:
            // amarelo
            break;
          case 2:
            // laranja
            break;
          case 3:
            // vermelho
            break;
        }
      }
    </script>
  </body>
</html>
